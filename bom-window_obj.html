<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>window object</title>
  </head>
  <body>
    <h1>BOM window object</h1>
    <h3>Links zu window</h3>
    <ul>
      <li>
        <a href="https://www.w3schools.com/js/js_window.asp">w3schools</a>
      </li>
      <li>
        <a href="https://developer.mozilla.org/de/docs/Web/API/Window"
          >MDN web docs</a
        >
      </li>
    </ul>
    <!-- (h3{$. Property / Method }+button[onclick=""]{run}+p#outp$)*5 -->
    <h3>1. Method alert()</h3>
    <button onclick="alert('Method alert()');">demonstrate</button>

    <h3>2. Method prompt()</h3>
    <button onclick="demonstratePrompt()">demonstrate</button>
    <p id="outp2"></p>

    <h3>3. Method confirm()</h3>
    <button onclick="demonstrateConfirm()">demonstrate</button>
    <p id="outp3"></p>

    <h3>4. Method setTimeout()</h3>
    <button onclick="demonstrateSetTimeout()">demonstrate</button>

    <h3>5. Methods setInterval() & clearInterval()</h3>
    <button onclick="demonstrateSetInterval()">demonstrate</button>
    <button onclick="clearInterval(intervalID)">stop demonstration</button>

    <h3>6.Methods open(), blur(), focus() & close()</h3>
    <button onclick="windowOpen()">Open ppedv</button>
    <button onclick="windowBlur()">Blur ppedv</button>
    <button onclick="windowFocus()">Focus ppedv</button>
    <button onclick="windowClose()">Close ppedv</button>

    <h3>Übung 'Digitale Uhr'</h3>
    <p id="aktuelleZeit"></p>

    <!-- <a href="javascript:window.close();">Schließen</a> -->
    <script>
      //window.console.log("Methode log() vom Objekt console vom Objekt window");

      //prompt() mit oder ohne erklärenden Text
      function demonstratePrompt() {
        let jahre = prompt("Geben Sie Ihr Alter an:");
        outp2.innerHTML = "eingegebene Zahl: " + jahre;
      }

      //confirm()
      function demonstrateConfirm() {
        let conf = window.confirm("Drücke auf OK");
        outp3.innerHTML = "Rückgabewert von confirm() ist: " + conf; //true wenn 'OK', false wenn 'Abbrechen'
      }

      //setTimeout()
      function demonstrateSetTimeout() {
        //setTimeout(js_anweisung:string, verzögerung:number)
        window.setTimeout(
          'window.confirm("Erscheinen von diesem Popup wurde um 2 sek verzögert");',
          2000
        );
      }

      //setInterval()
      var intervalID;
      function demonstrateSetInterval() {
        //setInterval(js_anweisung:string, nach_wie_vielen_milisecunden:number)
        intervalID = window.setInterval(
          //intervalID deklariert an dieser Stelle war für die andere Funktion nicht sichtbar. Warum? Die vars sollen ja außerhalb von Funktionen sichtbar sein
          'window.confirm("ich erscheine jede 3 sek");',
          3000
        );
        //console.log(intervalID);
      }

      //übung 'digitale Uhr'
      function tick() {
        let d = new Date();
        d = d.toLocaleTimeString();
        aktuelleZeit.innerHTML = d;
      }
      window.setInterval("tick();", 1000);

      //window.open("https://ppedv.de");//Popup erstmal erlauben
      //focus()
      //blur()//close()//open("URL", "Fenstername", "Optionen")
      //window.close(); //einfach so ausführen - geht nicht. sich selbst kann dieses Fenster nicht schließen. Skripte können keine Fenster schließen, die nicht von ihnen geöffnet wurden.
      /* Das Beispiel kommt von https://www.geeksforgeeks.org/javascript-window-blur-and-window-focus-method/*/

      var myWindow;

      // Function that opens the new Window
      function windowOpen() {
        myWindow = window.open(
          "https://ppedv.de",
          "_blank",
          "width=400, height=450"
        );
        console.log(myWindow); //was ist about:blank? Kommt mir bekannt vor
      }
      /**
       * firefox öffnet es in der Mitte
       * chrome oben links
       * edge ignoriert die Größenangaben
       */

      // function that closes the opened Window
      function windowClose() {
        myWindow.close(); //funktioniert in allen browsern
      }

      //function that blurs the opened Window
      function windowBlur() {
        myWindow.blur(); //funktioniert in chrome, in firefox und edge nicht
      }

      //function that focuses on opened Window
      function windowFocus() {
        myWindow.focus(); //funktioniert in chrome, in firefox und edge nicht
      }
    </script>
  </body>
</html>
